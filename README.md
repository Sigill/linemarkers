# Linemarkers

Linemarkers is a tool (and C++ library) dedicated to extracting the include hierarchy of C/C++ files.

The include hierarchy is obtained by parsing the line markers (`# 1 "/usr/include/c++/8/vector" 1 3`) placed by the preprocessor (e.g. generated by `gcc -E ...`).

It is similar to the output of `gcc -H ...`, except that it provides lines informations.

E.g.

`g++ -E -H -c linemarkers.hxx -I. -o /dev/null`

```
. linemarkers.hxx
.. /usr/include/c++/8/vector
... /usr/include/c++/8/bits/stl_algobase.h
...
```

`g++ -E -c linemarkers.hxx -I. | ./linemarkers`

```
0 linemarkers.cxx (250 / 65337)
| 1 linemarkers.hxx (78 / 34378)
| | 4 /usr/include/c++/8/vector (12 / 12283)
| | | 60 /usr/include/c++/8/bits/stl_algobase.h (973 / 6297)
...
```

The line `| 1 linemarkers.hxx (78 / 34378)` indicates that the `linemarkers.hxx` file:

- Is included at line 1 of `linemarkers.cxx`.
- Is 78 lines long.
- Is 34378 lines long when considering all its transitive includes (`vector`, `stl_algobase.h`, ...).

The number of lines might differ from the file length as long run of blank lines can be skipped by the preprocessor.

## License

This tool is released under the terms of the MIT License. See the LICENSE.txt file for more details.
